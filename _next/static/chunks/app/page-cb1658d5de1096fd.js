(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5767:function(e,a,l){Promise.resolve().then(l.bind(l,7852))},7852:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return k}});var r=l(3827),t=l(4090),o=l(2670);let n=[{title:"Dados Pessoais",fields:[{name:"nome",label:"Nome Completo",type:"text",required:!0},{name:"dataNascimento",label:"Data de Nascimento",type:"date",required:!0},{name:"estadoCivil",label:"Estado Civil",type:"select",required:!0,options:["Solteiro(a)","Casado(a)","Divorciado(a)","Vi\xfavo(a)","Uni\xe3o Est\xe1vel"]},{name:"nacionalidade",label:"Nacionalidade",type:"text",required:!0},{name:"naturalidade",label:"Naturalidade",type:"text",required:!1},{name:"cpf",label:"CPF",type:"text",required:!0,mask:"999.999.999-99"},{name:"rg",label:"RG",type:"text",required:!0},{name:"orgaoEmissor",label:"\xd3rg\xe3o Emissor",type:"text",required:!1},{name:"dataEmissao",label:"Data de Emiss\xe3o",type:"date",required:!1}]},{title:"Endere\xe7o e Contato",fields:[{name:"endereco",label:"Endere\xe7o",type:"text",required:!0},{name:"numero",label:"N\xfamero",type:"text",required:!0},{name:"complemento",label:"Complemento",type:"text",required:!1},{name:"bairro",label:"Bairro",type:"text",required:!1},{name:"cidade",label:"Cidade",type:"text",required:!1},{name:"estado",label:"Estado",type:"text",required:!1},{name:"cep",label:"CEP",type:"text",required:!1,mask:"99999-999"},{name:"telefone",label:"Telefone",type:"tel",required:!1,mask:"(99) 9999-9999"},{name:"celular",label:"Celular",type:"tel",required:!0,mask:"(99) 99999-9999"},{name:"email",label:"E-mail",type:"email",required:!0}]},{title:"Dados Profissionais",fields:[{name:"profissao",label:"Profiss\xe3o",type:"text",required:!0},{name:"empresa",label:"Empresa",type:"text",required:!0},{name:"cargo",label:"Cargo",type:"text",required:!0},{name:"rendaMensal",label:"Renda Mensal",type:"text",required:!0},{name:"tempoServico",label:"Tempo de Servi\xe7o",type:"text",required:!1}]},{title:"Dados do C\xf4njuge",fields:[{name:"nomeConjuge",label:"Nome do C\xf4njuge",type:"text",required:!1},{name:"cpfConjuge",label:"CPF do C\xf4njuge",type:"text",required:!1,mask:"999.999.999-99"},{name:"profissaoConjuge",label:"Profiss\xe3o do C\xf4njuge",type:"text",required:!1},{name:"rendaMensalConjuge",label:"Renda Mensal do C\xf4njuge",type:"text",required:!1}]},{title:"Dados do Financiamento",fields:[{name:"precoImovel",label:"Pre\xe7o estimado do im\xf3vel (R$)",type:"text",required:!0},{name:"valorFinanciamento",label:"Valor pretendido para financiamento (R$)",type:"text",required:!0},{name:"prazoFinanciamento",label:"Prazo do financiamento",type:"text",required:!0},{name:"incluirITBI",label:"Incluir ITBI",type:"checkbox",required:!0},{name:"bancosPreferencia",label:"Bancos de prefer\xeancia",type:"text",required:!0}]}],s={nome:"Jo\xe3o da Silva",dataNascimento:"1990-05-15",estadoCivil:"Casado(a)",nacionalidade:"Brasileiro",naturalidade:"S\xe3o Paulo",cpf:"123.456.789-00",rg:"12.345.678-9",orgaoEmissor:"SSP",dataEmissao:"2010-01-01",endereco:"Rua das Flores",numero:"123",complemento:"Apto 45",bairro:"Centro",cidade:"S\xe3o Paulo",estado:"SP",cep:"01234-567",telefone:"(11) 3456-7890",celular:"(11) 98765-4321",email:"joao.silva@email.com",profissao:"Engenheiro",empresa:"Empresa ABC Ltda",cargo:"Gerente de Projetos",rendaMensal:"R$ 8.000,00",tempoServico:"5 anos",nomeConjuge:"Maria da Silva",cpfConjuge:"987.654.321-00",profissaoConjuge:"Advogada",rendaMensalConjuge:"R$ 7.000,00",precoImovel:"R$ 500.000,00",valorFinanciamento:"R$ 400.000,00",prazoFinanciamento:"30 anos",incluirITBI:!0,bancosPreferencia:"Caixa Econ\xf4mica Federal, Banco do Brasil"};function i(e){let{currentStep:a,totalSteps:l}=e,t=a/(l-1)*100;return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{className:"w-full h-2 bg-white/20 rounded-full",children:(0,r.jsx)("div",{className:"h-full bg-white rounded-full transition-all duration-300 ease-in-out",style:{width:"".concat(t,"%")}})}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-white/90 text-center",children:["Etapa ",a+1," de ",l]})]})}var d=l(6602),c=l.n(d),m=l(2956);let u=e=>{if(!e)return"CPF \xe9 obrigat\xf3rio";let a=e.replace(/[^\d]/g,"");return!!m.wn.isValid(a)||"CPF inv\xe1lido"},p=e=>e?e.replace(/[^\d]/g,"").length>=7||"RG inv\xe1lido":"RG \xe9 obrigat\xf3rio",x=e=>!e||e.replace(/[^\d]/g,"").length>=10||"Telefone inv\xe1lido",b=e=>e?11===e.replace(/[^\d]/g,"").length||"Celular inv\xe1lido":"Celular \xe9 obrigat\xf3rio",g=e=>e?!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||"E-mail inv\xe1lido":"E-mail \xe9 obrigat\xf3rio",f=e=>e?e.replace(/[^\d,]/g,"").length>0||"Valor inv\xe1lido":"Valor \xe9 obrigat\xf3rio",v=(e,a)=>{if(a)return a;switch(e){case"cpf":return"999.999.999-99";case"rg":return"99.999.999-*";case"telefone":return"(99) 9999-9999";case"celular":return"(99) 99999-9999";case"cep":return"99999-999";default:return""}},h=(e,a)=>{let l={required:!!a&&"Este campo \xe9 obrigat\xf3rio"};switch(e){case"cpf":l.validate=u;break;case"rg":l.validate=p;break;case"telefone":l.validate=x;break;case"celular":l.validate=b;break;case"email":l.validate=g;break;case"precoImovel":case"valorFinanciamento":case"rendaMensal":case"rendaMensalConjuge":l.validate=f}return l};function y(e){var a;let{name:l,label:t,type:n,required:s,mask:i,options:d}=e,{register:m,formState:{errors:u}}=(0,o.Gc)(),p=null===(a=u[l])||void 0===a?void 0:a.message,x=v(l,i),b=h(l,s);return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t,s&&(0,r.jsx)("span",{className:"text-red-400 ml-1",children:"*"})]}),"select"===n&&d?(0,r.jsxs)("select",{...m(l,b),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white text-gray-900",children:[(0,r.jsx)("option",{value:"",children:"Selecione..."}),d.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}):"checkbox"===n?(0,r.jsx)("input",{type:"checkbox",...m(l,b),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}):x?(0,r.jsx)(c(),{mask:x,...m(l,b),children:e=>(0,r.jsx)("input",{...e,type:n,className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white text-gray-900",placeholder:"Digite ".concat(t.toLowerCase())})}):(0,r.jsx)("input",{type:n,...m(l,b),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white text-gray-900",placeholder:"Digite ".concat(t.toLowerCase())}),p&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-400",children:p})]})}function j(e){let{data:a,onEdit:l}=e;return(0,r.jsx)("div",{className:"space-y-6",children:n.map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),(0,r.jsx)("button",{onClick:()=>l(t),className:"text-sm text-primary hover:text-primary/80 underline",children:"Editar"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.fields.map(e=>{let l=a[e.name];return l||!1!==e.required?(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 uppercase tracking-wider",children:e.label}),(0,r.jsx)("p",{className:"text-base font-medium text-gray-900 border-b border-gray-200 pb-1",children:l||"-"})]},e.name):null})})]},e.title))})}function N(){return(0,r.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-8 text-center",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:(0,r.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Formul\xe1rio Enviado com Sucesso!"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Em breve, nosso consultor entrar\xe1 em contato com voc\xea."}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Preencher Novo Formul\xe1rio"})]})})}var C=l(5986);let E=e=>{let a=[{title:"DADOS PESSOAIS",fields:[{label:"Nome Completo",value:e.nome},{label:"Data de Nascimento",value:e.dataNascimento},{label:"Estado Civil",value:e.estadoCivil},{label:"Nacionalidade",value:e.nacionalidade},{label:"Naturalidade",value:e.naturalidade},{label:"CPF",value:e.cpf},{label:"RG",value:e.rg},{label:"\xd3rg\xe3o Emissor",value:e.orgaoEmissor},{label:"Data de Emiss\xe3o",value:e.dataEmissao}]},{title:"ENDERE\xc7O E CONTATO",fields:[{label:"Endere\xe7o",value:e.endereco},{label:"N\xfamero",value:e.numero},{label:"Complemento",value:e.complemento},{label:"Bairro",value:e.bairro},{label:"Cidade",value:e.cidade},{label:"Estado",value:e.estado},{label:"CEP",value:e.cep},{label:"Telefone",value:e.telefone},{label:"Celular",value:e.celular},{label:"E-mail",value:e.email}]},{title:"DADOS PROFISSIONAIS",fields:[{label:"Profiss\xe3o",value:e.profissao},{label:"Empresa",value:e.empresa},{label:"Cargo",value:e.cargo},{label:"Renda Mensal",value:e.rendaMensal},{label:"Tempo de Servi\xe7o",value:e.tempoServico}]},{title:"DADOS DO C\xd4NJUGE",fields:[{label:"Nome do C\xf4njuge",value:e.nomeConjuge},{label:"CPF do C\xf4njuge",value:e.cpfConjuge},{label:"Profiss\xe3o do C\xf4njuge",value:e.profissaoConjuge},{label:"Renda Mensal do C\xf4njuge",value:e.rendaMensalConjuge}]},{title:"DADOS DO FINANCIAMENTO",fields:[{label:"Pre\xe7o estimado do im\xf3vel",value:e.precoImovel},{label:"Valor pretendido para financiamento",value:e.valorFinanciamento},{label:"Prazo do financiamento",value:e.prazoFinanciamento},{label:"Incluir ITBI",value:e.incluirITBI?"Sim":"N\xe3o"},{label:"Bancos de prefer\xeancia",value:e.bancosPreferencia}]}],l="FICHA DE CADASTRO - ASR ASSESSORIA\n\n";return a.forEach(e=>{l+="".concat(e.title,"\n")+("".padEnd(50,"-")+"\n"),e.fields.forEach(e=>{e.value&&(l+="".concat(e.label,": ").concat(e.value,"\n"))}),l+="\n"}),l};var w=l(9079);let S=w.env.NEXT_PUBLIC_EMAILJS_SERVICE_ID||"",P=w.env.NEXT_PUBLIC_EMAILJS_TEMPLATE_ID||"",I=w.env.NEXT_PUBLIC_EMAILJS_PUBLIC_KEY||"";function q(){let[e,a]=(0,t.useState)(0),[l,d]=(0,t.useState)(!1),[c,m]=(0,t.useState)(!1),[u,p]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),g=(0,o.cI)(),{handleSubmit:f,reset:v}=g,h=()=>{l?d(!1):a(e=>e-1)},w=async()=>{try{p(!0),b(null);let e=g.getValues(),a=E(e);console.log("Enviando email com os seguintes dados:",{serviceId:S,templateId:P,hasPublicKey:!!I,templateParams:{to_name:"ASR Assessoria",from_name:e.nome,message:a}}),C.ZP.init({publicKey:I}),await C.ZP.send(S,P,{to_name:"ASR Assessoria",from_name:e.nome,message:a}),m(!0)}catch(a){console.error("Erro detalhado ao enviar email:",a);let e="Ocorreu um erro ao enviar o formul\xe1rio. ";a instanceof Error?e+=a.message:"string"==typeof a&&(e+=a),b(e)}finally{p(!1)}};return c?(0,r.jsx)(N,{}):(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(i,{currentStep:l?n.length:e,totalSteps:n.length+1})}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-8",children:[l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Revis\xe3o dos Dados"}),(0,r.jsx)(j,{data:g.getValues(),onEdit:e=>{a(e),d(!1)}})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:n[e].title}),0===e&&(0,r.jsx)("button",{type:"button",onClick:()=>{v(s)},className:"px-4 py-2 text-sm font-medium text-white bg-gray-500 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Preencher Teste"})]}),(0,r.jsx)(o.RV,{...g,children:(0,r.jsxs)("form",{onSubmit:f(l=>{e===n.length-1?d(!0):a(e=>e+1)}),children:[(0,r.jsx)("div",{className:"space-y-4",children:n[e].fields.map(e=>(0,r.jsx)(y,{...e},e.name))}),(0,r.jsxs)("div",{className:"mt-8 flex justify-between",children:[e>0&&(0,r.jsx)("button",{type:"button",onClick:h,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Voltar"}),(0,r.jsx)("button",{type:"submit",className:"ml-auto px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:e===n.length-1?"Revisar":"Pr\xf3ximo"})]})]})})]}),l&&(0,r.jsxs)("div",{className:"mt-8 flex justify-between",children:[(0,r.jsx)("button",{type:"button",onClick:h,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Voltar"}),(0,r.jsx)("button",{onClick:w,disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Enviando...":"Enviar"})]}),x&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-red-50 rounded-md",children:(0,r.jsx)("p",{className:"text-sm text-red-600",children:x})})]})]})}function k(){return(0,r.jsx)("main",{className:"min-h-screen bg-primary",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Ficha de Cadastro"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-white",children:"Preencha todos os campos obrigat\xf3rios marcados com *"})]}),(0,r.jsx)(q,{})]})})})}w.env.NEXT_PUBLIC_RECIPIENT_EMAIL}},function(e){e.O(0,[946,971,69,744],function(){return e(e.s=5767)}),_N_E=e.O()}]);