(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5767:function(e,a,t){Promise.resolve().then(t.bind(t,9419))},9419:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return q}});var l=t(3827),r=t(4090),o=t(2670);let i=[{title:"Dados Pessoais",fields:[{name:"nome",label:"Nome Completo",type:"text",required:!0},{name:"dataNascimento",label:"Data de Nascimento",type:"text",required:!0,mask:"99/99/9999"},{name:"estadoCivil",label:"Estado Civil",type:"select",required:!0,options:["Solteiro(a)","Casado(a)","Divorciado(a)","Vi\xfavo(a)","Uni\xe3o Est\xe1vel"]},{name:"nacionalidade",label:"Nacionalidade",type:"text",required:!0},{name:"naturalidade",label:"Naturalidade",type:"text",required:!1},{name:"cpf",label:"CPF",type:"text",required:!0,mask:"999.999.999-99"},{name:"rg",label:"RG",type:"text",required:!0,mask:"99.999.999-*"},{name:"orgaoEmissor",label:"\xd3rg\xe3o Emissor",type:"text",required:!1},{name:"dataEmissao",label:"Data de Emiss\xe3o",type:"text",required:!1,mask:"99/99/9999"},{name:"conjugeTitle",label:"Dados do C\xf4njuge",type:"title",required:!1,dependsOn:{field:"estadoCivil",value:"Casado(a)"}},{name:"nomeConjuge",label:"Nome do C\xf4njuge",type:"text",required:!0,dependsOn:{field:"estadoCivil",value:"Casado(a)"}},{name:"cpfConjuge",label:"CPF do C\xf4njuge",type:"text",required:!0,mask:"999.999.999-99",dependsOn:{field:"estadoCivil",value:"Casado(a)"}},{name:"dataNascimentoConjuge",label:"Data de Nascimento do C\xf4njuge",type:"text",required:!0,mask:"99/99/9999",dependsOn:{field:"estadoCivil",value:"Casado(a)"}},{name:"conjugeTitle",label:"Dados do(a) Companheiro(a)",type:"title",required:!1,dependsOn:{field:"estadoCivil",value:"Uni\xe3o Est\xe1vel"}},{name:"nomeConjuge",label:"Nome do(a) Companheiro(a)",type:"text",required:!0,dependsOn:{field:"estadoCivil",value:"Uni\xe3o Est\xe1vel"}},{name:"cpfConjuge",label:"CPF do(a) Companheiro(a)",type:"text",required:!0,mask:"999.999.999-99",dependsOn:{field:"estadoCivil",value:"Uni\xe3o Est\xe1vel"}},{name:"dataNascimentoConjuge",label:"Data de Nascimento do(a) Companheiro(a)",type:"text",required:!0,mask:"99/99/9999",dependsOn:{field:"estadoCivil",value:"Uni\xe3o Est\xe1vel"}}]},{title:"Contato",fields:[{name:"telefone",label:"Telefone",type:"text",required:!1,mask:"(99) 9999-9999"},{name:"celular",label:"Celular",type:"text",required:!0,mask:"(99) 99999-9999"},{name:"email",label:"E-mail",type:"email",required:!0}]},{title:"Endere\xe7o",fields:[{name:"cep",label:"CEP",type:"text",required:!0,mask:"99999-999"},{name:"logradouro",label:"Logradouro",type:"text",required:!0},{name:"numero",label:"N\xfamero",type:"text",required:!0},{name:"complemento",label:"Complemento",type:"text",required:!1},{name:"bairro",label:"Bairro",type:"text",required:!1},{name:"cidade",label:"Cidade",type:"text",required:!1},{name:"estado",label:"Estado",type:"text",required:!1}]},{title:"Dados Profissionais",fields:[{name:"profissao",label:"Profiss\xe3o",type:"text",required:!0},{name:"empresa",label:"Empresa",type:"text",required:!0},{name:"cargo",label:"Cargo",type:"text",required:!1},{name:"tempoServico",label:"Tempo de Servi\xe7o",type:"text",required:!1},{name:"rendaMensal",label:"Renda Mensal",type:"currency",required:!0}]},{title:"Dados do Financiamento",fields:[{name:"precoImovel",label:"Pre\xe7o Estimado do Im\xf3vel",type:"currency",required:!0},{name:"valorFinanciamento",label:"Valor Pretendido para Financiamento",type:"currency",required:!0},{name:"prazoFinanciamento",label:"Prazo do Financiamento (em anos)",type:"select",required:!0,options:["5","10","15","20","25","30","35"]},{name:"incluirITBI",label:"Incluir ITBI e Registro?",type:"select",required:!0,options:["Sim","N\xe3o"]},{name:"bancosPreferencia",label:"Bancos de Prefer\xeancia",type:"select",required:!0,options:["Caixa Econ\xf4mica Federal","Banco do Brasil","Ambos"]}]}];function s(e){let{currentStep:a,totalSteps:t}=e,r=a/(t-1)*100;return(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"w-full h-2 bg-white/20 rounded-full",children:(0,l.jsx)("div",{className:"h-full bg-white rounded-full transition-all duration-300 ease-in-out",style:{width:"".concat(r,"%")}})}),(0,l.jsxs)("div",{className:"mt-2 text-sm text-white/90 text-center",children:["Etapa ",a+1," de ",t]})]})}var n=t(6602),d=t.n(n),m=t(2956);let c=e=>{if(!e)return"CPF \xe9 obrigat\xf3rio";let a=e.replace(/[^\d]/g,"");return!!m.wn.isValid(a)||"CPF inv\xe1lido"},u=e=>e?e.replace(/[^\d]/g,"").length>=7||"RG inv\xe1lido":"RG \xe9 obrigat\xf3rio",p=e=>!e||e.replace(/[^\d]/g,"").length>=10||"Telefone inv\xe1lido",x=e=>e?!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||"E-mail inv\xe1lido":"E-mail \xe9 obrigat\xf3rio",b=e=>{let a=e.replace(/\D/g,"");return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a?parseInt(a)/100:0)},v=e=>e.replace(/\D/g,"");function g(e){let{name:a,label:t,type:r,required:i=!1,mask:s,options:n,validation:m={},placeholder:g,dependsOn:f}=e,{register:y,watch:h,setValue:j}=(0,o.Gc)(),N=f?h(f.field):void 0;return f&&N!==f.value?null:"title"===r?(0,l.jsxs)("div",{className:"mt-6 mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t}),(0,l.jsx)("div",{className:"mt-1 border-b border-gray-200"})]}):("cpf"===a||"cpfConjuge"===a?m.validate=c:"rg"===a?m.validate=u:"telefone"===a||"celular"===a?m.validate=p:"email"===a&&(m.validate=x),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[t,i&&(0,l.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),"select"===r&&n?(0,l.jsxs)("select",{...y(a,{...m,required:!!i&&"Este campo \xe9 obrigat\xf3rio"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",children:[(0,l.jsx)("option",{value:"",children:"Selecione..."}),n.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}):s?(0,l.jsx)(d(),{mask:s,...y(a,{...m,required:!!i&&"Este campo \xe9 obrigat\xf3rio"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:g}):"currency"===r?(0,l.jsx)("input",{type:"text",...y(a,{...m,required:!!i&&"Este campo \xe9 obrigat\xf3rio",onChange:e=>{let t=b(e.target.value);e.target.value=t,j(a,v(t),{shouldValidate:!0})}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:"R$ 0,00"}):(0,l.jsx)("input",{type:r,...y(a,{...m,required:!!i&&"Este campo \xe9 obrigat\xf3rio"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:g})]}))}let f=e=>{let a=parseInt(e);return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a/100)};function y(e){let{onEdit:a,onSubmit:t,isSubmitting:r,error:s}=e,{getValues:n}=(0,o.Gc)(),d=n(),m=e=>{let a=d[e.name];return a?"currency"===e.type?f(a):a:"-"},c=e=>!e.dependsOn||d[e.dependsOn.field]===e.dependsOn.value;return(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Revis\xe3o dos Dados"}),i.map((e,t)=>(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),(0,l.jsx)("button",{type:"button",onClick:()=>a(t),className:"text-primary hover:text-primary-dark text-sm font-medium",children:"Editar"})]}),(0,l.jsx)("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-4 sm:grid-cols-2",children:e.fields.filter(c).map(e=>"title"===e.type?null:(0,l.jsxs)("div",{className:"sm:col-span-1",children:[(0,l.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:e.label}),(0,l.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:m(e)})]},e.name))})]},e.title)),s&&(0,l.jsx)("div",{className:"p-4 bg-red-50 rounded-md",children:(0,l.jsx)("p",{className:"text-sm text-red-600",children:s})}),(0,l.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,l.jsx)("button",{type:"button",onClick:()=>a(i.length-1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-300",children:"Voltar"}),(0,l.jsx)("button",{type:"button",onClick:t,disabled:r,className:"px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-50",children:r?"Enviando...":"Enviar Formul\xe1rio"})]})]})}function h(){return(0,l.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-8 text-center",children:[(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:(0,l.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Formul\xe1rio Enviado com Sucesso!"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:"Em breve, nosso consultor entrar\xe1 em contato com voc\xea."}),(0,l.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Preencher Novo Formul\xe1rio"})]})})}var j=t(5986);let N=e=>{let a=parseInt(e);return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a/100)},C=e=>[{title:"DADOS PESSOAIS",fields:[{label:"Nome Completo",value:e.nome},{label:"Data de Nascimento",value:e.dataNascimento},{label:"Estado Civil",value:e.estadoCivil},{label:"Nacionalidade",value:e.nacionalidade},{label:"Naturalidade",value:e.naturalidade},{label:"CPF",value:e.cpf},{label:"RG",value:e.rg},{label:"\xd3rg\xe3o Emissor",value:e.orgaoEmissor},{label:"Data de Emiss\xe3o",value:e.dataEmissao}]},..."Casado(a)"===e.estadoCivil||"Uni\xe3o Est\xe1vel"===e.estadoCivil?[{title:"DADOS DO C\xd4NJUGE",fields:[{label:"Nome do C\xf4njuge",value:e.nomeConjuge},{label:"CPF do C\xf4njuge",value:e.cpfConjuge},{label:"Data de Nascimento do C\xf4njuge",value:e.dataNascimentoConjuge}]}]:[],{title:"CONTATO",fields:[{label:"Telefone",value:e.telefone},{label:"Celular",value:e.celular},{label:"E-mail",value:e.email}]},{title:"ENDERE\xc7O",fields:[{label:"CEP",value:e.cep},{label:"Logradouro",value:e.logradouro},{label:"N\xfamero",value:e.numero},{label:"Complemento",value:e.complemento},{label:"Bairro",value:e.bairro},{label:"Cidade",value:e.cidade},{label:"Estado",value:e.estado}]},{title:"DADOS PROFISSIONAIS",fields:[{label:"Profiss\xe3o",value:e.profissao},{label:"Empresa",value:e.empresa},{label:"Cargo",value:e.cargo},{label:"Tempo de Servi\xe7o",value:e.tempoServico},{label:"Renda Mensal",value:N(e.rendaMensal)}]},{title:"DADOS DO FINANCIAMENTO",fields:[{label:"Pre\xe7o Estimado do Im\xf3vel",value:N(e.precoImovel)},{label:"Valor Pretendido para Financiamento",value:N(e.valorFinanciamento)},{label:"Prazo do Financiamento",value:"".concat(e.prazoFinanciamento," anos")},{label:"Incluir ITBI e Registro?",value:e.incluirITBI},{label:"Bancos de Prefer\xeancia",value:e.bancosPreferencia}]}].map(e=>{let a=e.fields.filter(e=>e.value).map(e=>"".concat(e.label,": ").concat(e.value)).join("\n");return"\n".concat(e.title,"\n").concat("-".repeat(e.title.length),"\n").concat(a)}).join("\n"),E={serviceId:"service_k13hl2o",templateId:"template_vubhbnl",publicKey:"zIubvbu-9AetnQGKc"};function w(){var e;let[a,t]=(0,r.useState)(0),[n,d]=(0,r.useState)(!1),[m,c]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),[x,b]=(0,r.useState)(null),v=(0,o.cI)({mode:"onBlur",defaultValues:{estadoCivil:"",incluirITBI:"",bancosPreferencia:"",prazoFinanciamento:""}}),{handleSubmit:f,trigger:N,formState:{errors:w}}=v;(0,r.useEffect)(()=>{j.ZP.init({publicKey:E.publicKey})},[]);let q=async e=>{await N()&&(a===i.length-1?d(!0):t(e=>e+1))},k=async()=>{try{p(!0),b(null);let e=v.getValues(),a=C(e);await j.ZP.send(E.serviceId,E.templateId,{to_name:"ASR Assessoria",from_name:e.nome,message:a}),c(!0)}catch(a){console.error("Erro ao enviar email:",a);let e="Ocorreu um erro ao enviar o formul\xe1rio. ";a instanceof Error?e+=a.message:"string"==typeof a&&(e+=a),b(e)}finally{p(!1)}};if(m)return(0,l.jsx)(h,{});let I=(null===(e=i[a])||void 0===e?void 0:e.fields)||[];return(0,l.jsx)(o.RV,{...v,children:(0,l.jsxs)("form",{onSubmit:f(q),className:"max-w-2xl mx-auto p-4",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)(s,{currentStep:a,totalSteps:i.length}),(0,l.jsxs)("p",{className:"text-center text-sm text-gray-600 mt-2",children:["Etapa ",a+1," de ",i.length]})]}),n?(0,l.jsx)(y,{onEdit:e=>{t(e),d(!1)},onSubmit:k,isSubmitting:u,error:x}):(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-6",children:i[a].title}),(0,l.jsx)("div",{className:"space-y-4",children:I.map((e,a)=>(0,l.jsx)(g,{...e},"".concat(e.name,"-").concat(a)))}),(0,l.jsxs)("div",{className:"mt-8 flex justify-between",children:[a>0&&(0,l.jsx)("button",{type:"button",onClick:()=>{n?d(!1):t(e=>e-1)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-300",children:"Anterior"}),(0,l.jsx)("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary ".concat(0===a?"ml-auto":""),children:a===i.length-1?"Revisar":"Pr\xf3ximo"})]})]}),Object.keys(w).length>0&&(0,l.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded",children:(0,l.jsx)("p",{className:"text-red-600 text-sm",children:"Por favor, preencha todos os campos obrigat\xf3rios corretamente."})})]})})}function q(){return(0,l.jsx)("main",{className:"min-h-screen bg-primary",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Ficha de Cadastro"}),(0,l.jsx)("p",{className:"mt-2 text-sm text-white",children:"Preencha todos os campos obrigat\xf3rios marcados com *"})]}),(0,l.jsx)(w,{})]})})})}}},function(e){e.O(0,[730,971,69,744],function(){return e(e.s=5767)}),_N_E=e.O()}]);