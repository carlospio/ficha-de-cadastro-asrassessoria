(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5767:function(e,a,l){Promise.resolve().then(l.bind(l,9419))},9419:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return q}});var t=l(3827),r=l(4090),s=l(2670);let o=[{title:"Dados Pessoais",fields:[{name:"nome",label:"Nome Completo",type:"text",required:!0},{name:"dataNascimento",label:"Data de Nascimento",type:"text",required:!0,mask:"99/99/9999"},{name:"estadoCivil",label:"Estado Civil",type:"select",required:!0,options:["Solteiro(a)","Casado(a)","Divorciado(a)","Vi\xfavo(a)","Uni\xe3o Est\xe1vel"]},{name:"nacionalidade",label:"Nacionalidade",type:"text",required:!0},{name:"naturalidade",label:"Naturalidade",type:"text",required:!1},{name:"cpf",label:"CPF",type:"text",required:!0,mask:"999.999.999-99"},{name:"rg",label:"RG",type:"text",required:!0,mask:"99.999.999-*"},{name:"orgaoEmissor",label:"\xd3rg\xe3o Emissor",type:"text",required:!1},{name:"dataEmissao",label:"Data de Emiss\xe3o",type:"text",required:!1,mask:"99/99/9999"},{name:"nomeConjuge",label:"Nome do C\xf4njuge",type:"text",required:!0,dependsOn:{field:"estadoCivil",value:"Casado(a)"}},{name:"cpfConjuge",label:"CPF do C\xf4njuge",type:"text",required:!0,mask:"999.999.999-99",dependsOn:{field:"estadoCivil",value:"Casado(a)"}},{name:"dataNascimentoConjuge",label:"Data de Nascimento do C\xf4njuge",type:"text",required:!0,mask:"99/99/9999",dependsOn:{field:"estadoCivil",value:"Casado(a)"}},{name:"nomeConjuge",label:"Nome do(a) Companheiro(a)",type:"text",required:!0,dependsOn:{field:"estadoCivil",value:"Uni\xe3o Est\xe1vel"}},{name:"cpfConjuge",label:"CPF do(a) Companheiro(a)",type:"text",required:!0,mask:"999.999.999-99",dependsOn:{field:"estadoCivil",value:"Uni\xe3o Est\xe1vel"}},{name:"dataNascimentoConjuge",label:"Data de Nascimento do(a) Companheiro(a)",type:"text",required:!0,mask:"99/99/9999",dependsOn:{field:"estadoCivil",value:"Uni\xe3o Est\xe1vel"}}]},{title:"Contato",fields:[{name:"telefone",label:"Telefone",type:"text",required:!1,mask:"(99) 9999-9999"},{name:"celular",label:"Celular",type:"text",required:!0,mask:"(99) 99999-9999"},{name:"email",label:"E-mail",type:"email",required:!0}]},{title:"Endere\xe7o",fields:[{name:"cep",label:"CEP",type:"text",required:!0,mask:"99999-999"},{name:"logradouro",label:"Logradouro",type:"text",required:!0},{name:"numero",label:"N\xfamero",type:"text",required:!0},{name:"complemento",label:"Complemento",type:"text",required:!1},{name:"bairro",label:"Bairro",type:"text",required:!1},{name:"cidade",label:"Cidade",type:"text",required:!1},{name:"estado",label:"Estado",type:"text",required:!1}]},{title:"Dados Profissionais",fields:[{name:"profissao",label:"Profiss\xe3o",type:"text",required:!0},{name:"empresa",label:"Empresa",type:"text",required:!0},{name:"cargo",label:"Cargo",type:"text",required:!1},{name:"tempoServico",label:"Tempo de Servi\xe7o",type:"text",required:!1},{name:"rendaMensal",label:"Renda Mensal",type:"currency",required:!0}]},{title:"Dados do Financiamento",fields:[{name:"precoImovel",label:"Pre\xe7o Estimado do Im\xf3vel",type:"currency",required:!0},{name:"valorFinanciamento",label:"Valor Pretendido para Financiamento",type:"currency",required:!0},{name:"prazoFinanciamento",label:"Prazo do Financiamento (em anos)",type:"select",required:!0,options:["5","10","15","20","25","30","35"]},{name:"incluirITBI",label:"Incluir ITBI e Registro?",type:"select",required:!0,options:["Sim","N\xe3o"]},{name:"bancosPreferencia",label:"Bancos de Prefer\xeancia",type:"select",required:!0,options:["Caixa Econ\xf4mica Federal","Banco do Brasil","Ambos"]}]}];function n(e){let{currentStep:a,totalSteps:l}=e,r=a/(l-1)*100;return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("div",{className:"w-full h-2 bg-white/20 rounded-full",children:(0,t.jsx)("div",{className:"h-full bg-white rounded-full transition-all duration-300 ease-in-out",style:{width:"".concat(r,"%")}})}),(0,t.jsxs)("div",{className:"mt-2 text-sm text-white/90 text-center",children:["Etapa ",a+1," de ",l]})]})}var i=l(6602),d=l.n(i),m=l(2956);let c=e=>{if(!e)return"CPF \xe9 obrigat\xf3rio";let a=e.replace(/[^\d]/g,"");return!!m.wn.isValid(a)||"CPF inv\xe1lido"},u=e=>e?e.replace(/[^\d]/g,"").length>=7||"RG inv\xe1lido":"RG \xe9 obrigat\xf3rio",p=e=>!e||e.replace(/[^\d]/g,"").length>=10||"Telefone inv\xe1lido",x=e=>e?!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||"E-mail inv\xe1lido":"E-mail \xe9 obrigat\xf3rio",b=e=>{let a=e.replace(/\D/g,"");return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a?parseInt(a)/100:0)},f=e=>e.replace(/\D/g,"");function v(e){let{name:a,label:l,type:r,required:o=!1,mask:n,options:i,validation:m={},placeholder:v,dependsOn:g}=e,{register:y,watch:h,setValue:j}=(0,s.Gc)(),N=g?h(g.field):void 0;return g&&N!==g.value?null:("cpf"===a||"cpfConjuge"===a?m.validate=c:"rg"===a?m.validate=u:"telefone"===a||"celular"===a?m.validate=p:"email"===a&&(m.validate=x),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:a,className:"block text-sm font-medium text-gray-700",children:[l,o&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),"select"===r&&i?(0,t.jsxs)("select",{...y(a,m),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",children:[(0,t.jsx)("option",{value:"",children:"Selecione..."}),i.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}):n?(0,t.jsx)(d(),{mask:n,...y(a,m),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:v}):"currency"===r?(0,t.jsx)("input",{type:"text",...y(a,{...m,onChange:e=>{let l=b(e.target.value);e.target.value=l,j(a,f(l),{shouldValidate:!0})}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:"R$ 0,00"}):(0,t.jsx)("input",{type:r,...y(a,m),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:v}),(0,t.jsx)("div",{className:"mt-1",children:m.required&&(0,t.jsx)("span",{className:"text-xs text-red-500",children:"Campo obrigat\xf3rio"})})]}))}let g=(e,a)=>{if(!e)return"-";switch(a){case"date":return new Date(e).toLocaleDateString("pt-BR");case"currency":return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseInt(e)/100);default:return e.toString()}};function y(e){let{data:a,onEdit:l}=e;return(0,t.jsx)("div",{className:"space-y-8",children:o.map((e,r)=>(0,t.jsxs)("div",{className:"border-b border-gray-200 pb-8 last:border-b-0",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),(0,t.jsx)("button",{onClick:()=>l(r),className:"text-sm text-primary hover:text-primary/80 font-medium",children:"Editar"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.fields.map(e=>{if(e.dependsOn&&a[e.dependsOn.field]!==e.dependsOn.value)return null;let l=a[e.name];return l||!1!==e.required?(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:e.label}),(0,t.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:g(l,e.type)})]},e.name):null})})]},e.title))})}function h(){return(0,t.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-8 text-center",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Formul\xe1rio Enviado com Sucesso!"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Em breve, nosso consultor entrar\xe1 em contato com voc\xea."}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Preencher Novo Formul\xe1rio"})]})})}var j=l(5986);let N=e=>{let a=parseInt(e);return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a/100)},C=e=>[{title:"DADOS PESSOAIS",fields:[{label:"Nome Completo",value:e.nome},{label:"Data de Nascimento",value:e.dataNascimento},{label:"Estado Civil",value:e.estadoCivil},{label:"Nacionalidade",value:e.nacionalidade},{label:"Naturalidade",value:e.naturalidade},{label:"CPF",value:e.cpf},{label:"RG",value:e.rg},{label:"\xd3rg\xe3o Emissor",value:e.orgaoEmissor},{label:"Data de Emiss\xe3o",value:e.dataEmissao}]},..."Casado(a)"===e.estadoCivil||"Uni\xe3o Est\xe1vel"===e.estadoCivil?[{title:"DADOS DO C\xd4NJUGE",fields:[{label:"Nome do C\xf4njuge",value:e.nomeConjuge},{label:"CPF do C\xf4njuge",value:e.cpfConjuge},{label:"Data de Nascimento do C\xf4njuge",value:e.dataNascimentoConjuge}]}]:[],{title:"CONTATO",fields:[{label:"Telefone",value:e.telefone},{label:"Celular",value:e.celular},{label:"E-mail",value:e.email}]},{title:"ENDERE\xc7O",fields:[{label:"CEP",value:e.cep},{label:"Logradouro",value:e.logradouro},{label:"N\xfamero",value:e.numero},{label:"Complemento",value:e.complemento},{label:"Bairro",value:e.bairro},{label:"Cidade",value:e.cidade},{label:"Estado",value:e.estado}]},{title:"DADOS PROFISSIONAIS",fields:[{label:"Profiss\xe3o",value:e.profissao},{label:"Empresa",value:e.empresa},{label:"Cargo",value:e.cargo},{label:"Tempo de Servi\xe7o",value:e.tempoServico},{label:"Renda Mensal",value:N(e.rendaMensal)}]},{title:"DADOS DO FINANCIAMENTO",fields:[{label:"Pre\xe7o Estimado do Im\xf3vel",value:N(e.precoImovel)},{label:"Valor Pretendido para Financiamento",value:N(e.valorFinanciamento)},{label:"Prazo do Financiamento",value:"".concat(e.prazoFinanciamento," anos")},{label:"Incluir ITBI e Registro?",value:e.incluirITBI},{label:"Bancos de Prefer\xeancia",value:e.bancosPreferencia}]}].map(e=>{let a=e.fields.filter(e=>e.value).map(e=>"".concat(e.label,": ").concat(e.value)).join("\n");return"\n".concat(e.title,"\n").concat("-".repeat(e.title.length),"\n").concat(a)}).join("\n"),E={serviceId:"service_k13hl2o",templateId:"template_vubhbnl",publicKey:"zIubvbu-9AetnQGKc"};function w(){let[e,a]=(0,r.useState)(0),[l,i]=(0,r.useState)(!1),[d,m]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[p,x]=(0,r.useState)(null),b=(0,s.cI)(),{handleSubmit:f,reset:g}=b;(0,r.useEffect)(()=>{j.ZP.init({publicKey:E.publicKey})},[]);let N=()=>{l?i(!1):a(e=>e-1)},w=async()=>{try{u(!0),x(null);let e=b.getValues(),a=C(e);console.log("Enviando email com os seguintes dados:",{serviceId:E.serviceId,templateId:E.templateId,hasPublicKey:!!E.publicKey,templateParams:{to_name:"ASR Assessoria",from_name:e.nome,message:a}}),await j.ZP.send(E.serviceId,E.templateId,{to_name:"ASR Assessoria",from_name:e.nome,message:a}),m(!0)}catch(a){console.error("Erro detalhado ao enviar email:",a);let e="Ocorreu um erro ao enviar o formul\xe1rio. ";a instanceof Error?e+=a.message:"string"==typeof a&&(e+=a),x(e)}finally{u(!1)}};return d?(0,t.jsx)(h,{}):(0,t.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(n,{currentStep:l?o.length:e,totalSteps:o.length+1})}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-8",children:[l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Revis\xe3o dos Dados"}),(0,t.jsx)(y,{data:b.getValues(),onEdit:e=>{a(e),i(!1)}})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:o[e].title}),(0,t.jsx)(s.RV,{...b,children:(0,t.jsxs)("form",{onSubmit:f(l=>{e===o.length-1?i(!0):a(e=>e+1)}),children:[(0,t.jsx)("div",{className:"space-y-4",children:o[e].fields.map(e=>(0,t.jsx)(v,{...e},e.name))}),(0,t.jsxs)("div",{className:"mt-8 flex justify-between",children:[e>0&&(0,t.jsx)("button",{type:"button",onClick:N,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Voltar"}),(0,t.jsx)("button",{type:"submit",className:"ml-auto px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:e===o.length-1?"Revisar":"Pr\xf3ximo"})]})]})})]}),l&&(0,t.jsxs)("div",{className:"mt-8 flex justify-between",children:[(0,t.jsx)("button",{type:"button",onClick:N,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Voltar"}),(0,t.jsx)("button",{onClick:w,disabled:c,className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Enviando...":"Enviar"})]}),p&&(0,t.jsx)("div",{className:"mt-4 p-4 bg-red-50 rounded-md",children:(0,t.jsx)("p",{className:"text-sm text-red-600",children:p})})]})]})}function q(){return(0,t.jsx)("main",{className:"min-h-screen bg-primary",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Ficha de Cadastro"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-white",children:"Preencha todos os campos obrigat\xf3rios marcados com *"})]}),(0,t.jsx)(w,{})]})})})}}},function(e){e.O(0,[730,971,69,744],function(){return e(e.s=5767)}),_N_E=e.O()}]);